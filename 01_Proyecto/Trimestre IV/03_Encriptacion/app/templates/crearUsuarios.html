<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/crearUsuarios.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <style>
    .oculto {
      display: none;
    }
  </style>
</head>
<body>

  <header>
    <nav class="navbar bg-body-tertiary fixed-top">
      <div class="container-fluid">

        <button class="navbar-toggler-start boton-menu" type="button" data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"> </span>
        </button>

        <img src="../static/Recursos/Diseño sin título.svg" alt="logo" class="logo">

       <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
                    aria-labelledby="offcanvasNavbarLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
                        <button type="button" class="btn-close boton" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="{{ url_for('crearUsuarios') }}">Usuarios</a>
                                <i class="bi bi-person-fill  icon-menu"></i>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('crearTareas') }}">Crear Tareas</a>
                                <i class="bi bi-journal-text icon-menu"></i>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('tareas') }}">Tareas</a>
                                <i class="bi bi-journal-text icon-menu"></i>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " aria-current="page" href="{{ url_for('calendario') }}">Calendario</a>
                                <i class="bi bi-calendar-event icon-menu"></i>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="{{ url_for('Reportes') }}">Reportes</a>
                                <i class="bi bi-clipboard-data icon-menu"></i>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link " aria-current="page" href="{{ url_for('chat') }}">Chat</a>
                                <i class="bi bi-chat-dots icon-menu"></i>
                            </li>
                        </ul>
                    </div>
                </div>

        <div class="dropdown">
          <a href="#" class="d-inline-block link-dark text-decoration-none " id="userDropdown"
            data-bs-toggle="dropdown" aria-expanded="false">
            <img src="../static/Recursos/Foto.jpg" alt="Foto de perfil" class="foto-perfil ">
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
              <li class="dropdown-header text-center">
                <h2 class="nombre">Nombre de Usuario</h2>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li>
                <a class="dropdown-item d-flex align-items-center" href="./Login.html">
                  <i class="bi bi-box-arrow-right me-2"></i> Salir
                </a>
              </li>
              <li>
                <a class="dropdown-item d-flex align-items-center" href="#">
                  <i class="bi bi-gear"></i></i> Configuración
                </a>
              </li>
          </ul>
        </div>

      </div>
    </nav>
  </header>

 

  <div class="menu d-grid gap-2 d-md-flex justify-content-md-center flex-wrap">
  <button class="btn btn-warning" onclick="mostrarSeccion('crear')">Crear Usuario</button>
  <button class="btn btn-warning" onclick="mostrarSeccion('consultar')">Consultar Usuario</button>
  <button class="btn btn-warning" onclick="mostrarSeccion('eliminar')">Eliminar Usuario</button>
  <button class="btn btn-warning" onclick="mostrarSeccion('roles')">Asignar Roles</button>
  <button class="btn btn-warning" onclick="mostrarSeccion('permisos')">Controlar Permisos</button>
  <button class="btn btn-warning" onclick="mostrarSeccion('estado')">Ver Estado del Usuario</button>
</div>


  <div class="contenido">
    <!-- CREAR -->
    <div id="crear" class="seccion">
      <h2>Crear Usuario</h2>
      {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for cat, msg in messages %}
        <div class="alert alert-{{ cat }} mt-3">{{ msg }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  
  <form action="{{ url_for('crearUsuarios') }}" method="POST" class="mt-4">

   <div class="row">

    <div class="col-6">
       <div class="mb-3">
      <label class="form-label">Documento</label>
      <input type="number" name="txtCedula" class="form-control" required>
    </div>
    </div>

    <div class="col-6">
        <div class="mb-3">
      <label class="form-label">Tipo de Documento</label>
      <select name="selTipoDoc" class="form-select" required>
        <option value="" disabled selected>-- Selecciona uno --</option>
        {% for td in tipos_documento %}
          <option value="{{ td.cod_tipo_doc }}">{{ td.tipo_doc }}</option>
        {% endfor %}
      </select>
    </div>
    </div>

    <div class="col-3">
        <div class="mb-3">
      <label class="form-label">Primer Nombre</label>
      <input type="text" name="txtNombre1" class="form-control" required>
    </div>
    </div>

    <div class="col-3"> <div class="mb-3">
      <label class="form-label">Segundo Nombre</label>
      <input type="text" name="txtNombre2" class="form-control">
    </div></div>


    <div class="col-3">
      <div class="mb-3">
      <label class="form-label">Primer Apellido</label>
      <input type="text" name="txtApellido1" class="form-control" required>
    </div>
    </div>


    <div class="col-3">
       <div class="mb-3">
      <label class="form-label">Segundo Apellido</label>
      <input type="text" name="txtApellido2" class="form-control">
    </div>
    </div>
  
    <div class="col-9">
      <div class="mb-3">
      <label class="form-label">Correo Electrónico</label>
      <input type="email" name="txtEmail" class="form-control" required>
    </div>
    </div>
    

    <div class="col-3">
      <div class="mb-3">
      <label class="form-label">Teléfono</label>
      <input type="text" name="txtTelefono" class="form-control">
    </div>

    </div>
    
    <div class="col-4">
           <div class="mb-3">
      <label class="form-label">Cargo</label>
      <select name="selCargo" class="form-select" required>
        <option value="" disabled selected>-- Selecciona uno --</option>
        {% for c in cargos %}
          <option value="{{ c.codigo_cargo }}">{{ c.nombre_cargo }}</option>
        {% endfor %}
      </select>
    </div>
    </div>

    <div class="col-4">
       <div class="mb-3">
      <label class="form-label">Estado</label>
      <select name="selEstado" class="form-select" required>
        <option value="" disabled selected>-- Selecciona uno --</option>
        {% for e in estados %}
          <option value="{{ e.id_estado }}">{{ e.tipo_de_estado }}</option>
        {% endfor %}
      </select>
    </div>
    </div>

    
    <div class="col-4">
       <div class="mb-3">
      <label class="form-label">Rol</label>
      <select name="selRol" class="form-select" required>
        <option value="" disabled selected>-- Selecciona uno --</option>
        {% for rol in roles %}
          <option value="{{ rol.id_rol }}">{{ rol.tipo_de_rol }}</option>
        {% endfor %}
      </select>
    </div>
    </div>

    <div class="col-12">
         <div class="mb-3">
      <label class="form-label">Contraseña</label>
      <input type="password" name="txtpassword" class="form-control" required>
    </div>
    </div>
   

    <button type="submit" class="btn btn-primary">Registrar</button>
   </div>
  </form>



    </div>

    <!-- CONSULTAR -->
    <div id="consultar" class="seccion oculto">
      <h2>Consultar Usuario</h2>
      <div class="tarjetas-usuarios">
        <div class="tarjeta">
          <h3>Dayana Machado</h3>
          <p>Correo: dayana@example.com</p>
          <p>Rol: Administradora</p>
        </div>
        <div class="tarjeta">
          <h3>Danna Rodriguez</h3>
          <p>Correo: danna@example.com</p>
          <p>Rol: Coordinadora</p>
        </div>
        <div class="tarjeta">
          <h3>Daniel Valbuena</h3>
          <p>Correo: daniel@example.com</p>
          <p>Rol: Colaborador</p>
        </div>
      </div>
    </div>

    <!-- ELIMINAR -->
    <div id="eliminar" class="seccion oculto">
      <h2>Eliminar Usuario</h2>
      <table class="tabla-usuarios">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Dayana Machado</td>
            <td>dayana@example.com</td>
            <td><button>Eliminar</button></td>
          </tr>
          <tr>
            <td>Danna Rodriguez</td>
            <td>danna@example.com</td>
            <td><button>Eliminar</button></td>
          </tr>
          <tr>
            <td>Daniel Valbuena</td>
            <td>daniel@example.com</td>
            <td><button>Eliminar</button></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ROLES -->
    <div id="roles" class="seccion oculto">
      <h2>Asignar Rol a Usuario</h2>
      <form class="formulario">
        <select>
          <option value="">Selecciona un usuario</option>
          <option value="danna">Danna Rodriguez</option>
          <option value="daniel">Daniel Valbuena</option>
          <option value="dayana">Dayana Machado</option>
        </select>
        <input type="text" placeholder="Nuevo rol (ej: Líder del proyecto)">
        <button type="submit">Asignar Rol</button>
      </form>
    </div>

    <!-- PERMISOS -->
    <div id="permisos" class="seccion oculto">
      <h2>Controlar Permisos </h2>
      <form class="formulario">
        <select>
          <option value="">Selecciona un usuario</option>
          <option value="danna">Danna Rodriguez</option>
          <option value="daniel">Daniel Valbuena</option>
          <option value="dayana">Dayana Machado</option>
        </select>
        <input type="text" placeholder="Permiso (ej: Editar contenido)">
        <button type="submit">Asignar Permiso</button>
      </form>
    </div>

    <!-- ESTADO -->
    <div id="estado" class="seccion oculto estado-usuario">
      <h2>Estado del Usuario</h2>
      <ul>
        <li>Dayana Machado - Estado: Activo</li>
        <li>Danna Rodriguez - Estado: Inactivo</li>
        <li>Daniel Valbuena - Estado: Activo</li>
      </ul>
    </div>



      <!-- Último script de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>




   <script>
    function mostrarSeccion(id) {
      const secciones = document.querySelectorAll('.seccion');
      secciones.forEach(sec => sec.classList.add('oculto'));
      document.getElementById(id).classList.remove('oculto');
    }
  </script>

   <script src="../static/js/crearUsuarios.js"></script>
</body>
</html>